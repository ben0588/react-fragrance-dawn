import{r as o,j as a,u as H,o as M}from"./index-8a9d7056.js";import{E as k,a as D,u as T,c as h}from"./TransitionWrapper-5e8e803e.js";import{u as I,a as S,F as A,b as G,C as O,c as W}from"./useWillUnmount-f29a61f9.js";import{u as X}from"./useDispatch-9655c87b.js";const x=2**31-1;function y(e,s,t){const n=t-Date.now();e.current=n<=x?setTimeout(s,n):setTimeout(()=>y(e,s,t),x)}function _(){const e=I(),s=o.useRef();return S(()=>clearTimeout(s.current)),o.useMemo(()=>{const t=()=>clearTimeout(s.current);function n(c,r=0){e()&&(t(),r<=x?s.current=setTimeout(c,r):y(s,c,Date.now()+r))}return{set:n,clear:t}},[])}const z={[k]:"showing",[D]:"showing show"},E=o.forwardRef((e,s)=>a.jsx(A,{...e,ref:s,transitionClasses:z}));E.displayName="ToastFade";const L=E,U=o.createContext({onClose(){}}),b=U,g=o.forwardRef(({bsPrefix:e,closeLabel:s="Close",closeVariant:t,closeButton:n=!0,className:c,children:r,...l},d)=>{e=T(e,"toast-header");const i=o.useContext(b),u=G(m=>{i==null||i.onClose==null||i.onClose(m)});return a.jsxs("div",{ref:d,...l,className:h(e,c),children:[r,n&&a.jsx(O,{"aria-label":s,variant:t,onClick:u,"data-dismiss":"toast"})]})});g.displayName="ToastHeader";const Y=g,q=W("toast-body"),$=o.forwardRef(({bsPrefix:e,className:s,transition:t=L,show:n=!0,animation:c=!0,delay:r=5e3,autohide:l=!1,onClose:d,bg:i,...u},m)=>{e=T(e,"toast");const C=o.useRef(r),p=o.useRef(d);o.useEffect(()=>{C.current=r,p.current=d},[r,d]);const j=_(),N=!!(l&&n),R=o.useCallback(()=>{N&&(p.current==null||p.current())},[N]);o.useEffect(()=>{j.set(R,C.current)},[j,R]);const F=o.useMemo(()=>({onClose:d}),[d]),v=!!(t&&c),w=a.jsx("div",{...u,ref:m,className:h(e,s,i&&`bg-${i}`,!v&&(n?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return a.jsx(b.Provider,{value:F,children:v&&t?a.jsx(t,{in:n,unmountOnExit:!0,children:w}):w})});$.displayName="Toast";const f=Object.assign($,{Body:q,Header:Y}),J={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},B=o.forwardRef(({bsPrefix:e,position:s,containerPosition:t,className:n,as:c="div",...r},l)=>(e=T(e,"toast-container"),a.jsx(c,{ref:l,...r,className:h(e,s&&J[s],t&&`position-${t}`,n)})));B.displayName="ToastContainer";const K=B,tt=o.memo(()=>{const e=H(t=>t.message),s=X();return a.jsx(a.Fragment,{children:a.jsx(K,{position:"top-end",className:"p-3",style:{zIndex:1},children:e==null?void 0:e.map(t=>a.jsxs(f,{onClose:()=>s(M({...t,open:!1})),show:t.open,className:"fw-bolder",children:[a.jsx(f.Header,{className:`text-white bg-${t.type} `,children:a.jsx("strong",{className:"me-auto",children:t.title})}),a.jsx(f.Body,{className:"bg-blur",children:t.text})]},t.id))})})});export{tt as R};
