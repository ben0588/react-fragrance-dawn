import{u as m,d,r as x,e as i,f as o,j as a,L as r,O as p}from"./index-be291655.js";import{A as b}from"./adminApis-59aa4cb7.js";import{R as g}from"./ReactBootstrapToast-3a0a4511.js";import{L as h}from"./Loading-71569a42.js";import{u as v}from"./useDispatch-852928e2.js";import"./TransitionWrapper-22889fd5.js";import"./setPrototypeOf-72fdee31.js";import"./useWillUnmount-1dbfcc56.js";const D=()=>{const e=m(t=>t.admin),s=v(),l=d(),c=async()=>{var t;try{const n=await b();document.cookie="adminToken=;",s(o()),s(i(n)),l("/admin")}catch(n){s(i((t=n==null?void 0:n.response)==null?void 0:t.data))}};return x.useEffect(()=>{e.expired!==""&&e.expired<=new Date().getTime()&&(s(i({id:new Date().getTime(),message:"管理者時效已達，登出成功，請重新登入"})),s(o()))},[e]),a.jsxs("div",{children:[a.jsx("nav",{className:"navbar navbar-expand-lg bg-primary",children:a.jsxs("div",{className:"container-fluid",children:[a.jsx(r,{to:"/admin",className:"text-white text-decoration-none mb-0",onClick:t=>t.preventDefault(),children:"FRAGRANCE DAWN 後台管理系統"}),a.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:a.jsx("span",{className:"navbar-toggler-icon"})}),a.jsx("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNav",children:a.jsx("ul",{className:"navbar-nav",children:e.isLogin?a.jsxs(a.Fragment,{children:[e.expired&&a.jsx("li",{className:"nav-item d-flex justify-content-center align-items-center text-white ",children:a.jsxs("span",{className:"me-3",children:["管理者登入成功，有效時間：",new Date(e.expired).toLocaleString()]})}),a.jsx("li",{className:"nav-item me-2",children:a.jsx("button",{type:"button",className:"btn btn-sm btn-light fw-bolder px-3",onClick:c,children:"登出"})}),a.jsx("li",{className:"nav-item",children:a.jsx(r,{to:"dashboard",className:"btn btn-sm btn-light fw-bolder px-3",children:"管理"})})]}):a.jsx(a.Fragment,{children:a.jsx("li",{className:"nav-item",children:a.jsx(r,{to:"login",className:"btn btn-sm btn-light fw-bolder px-3",children:"管理者登入"})})})})})]})}),a.jsx(p,{}),a.jsx(g,{}),a.jsx(h,{})]})};export{D as default};
